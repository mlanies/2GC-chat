# Компоненты чата

Этот каталог содержит компоненты для интерфейса чата, рефакторенные для лучшей организации и читаемости кода.

## Структура компонентов

### ChatInterface.tsx
Основной компонент чата, который координирует работу всех остальных компонентов.

**Основные функции:**
- Управление состоянием каналов
- Обработка переключения между каналами
- Отправка сообщений через WebSocket
- Координация между дочерними компонентами

### ChatHeader.tsx
Компонент заголовка чата с логотипом и кнопкой выхода.

**Пропсы:**
- `onLogout: () => void` - функция выхода из чата
- `isMobile: boolean` - флаг мобильного устройства

### ChatHeader.tsx
Заголовок чата с логотипом, описанием и уведомлением об автоочистке.

**Пропсы:**
- `onLogout: () => void` - функция выхода из чата
- `isMobile: boolean` - флаг мобильного устройства

**Особенности:**
- Встроенное уведомление об автоочистке сообщений с увеличенным шрифтом
- Адаптивное отображение для мобильных устройств
- Только кнопка выхода (без переключателя тем)

### MessageList.tsx
Контейнер для списка сообщений с автоматической прокруткой.

**Пропсы:**
- `messages: ChatMessage[]` - массив сообщений
- `currentUser: string` - имя текущего пользователя
- `channelName: string` - название текущего канала

**Функции:**
- Автоматическая прокрутка к новым сообщениям
- Кнопка прокрутки вниз при необходимости
- Обработка анимаций удаления сообщений

### MessageItem.tsx
Отдельное сообщение в чате.

**Пропсы:**
- `message: ChatMessage` - объект сообщения
- `isOwnMessage: boolean` - флаг собственного сообщения
- `isDeleting: boolean` - флаг удаления сообщения

### MessageInput.tsx
Форма ввода и отправки сообщений.

**Пропсы:**
- `onSendMessage: (content: string) => void` - функция отправки сообщения
- `channelName: string` - название канала для плейсхолдера

## Типы

Все типы компонентов определены в файле `../types/chat.ts` для лучшей организации кода.

## Преимущества рефакторинга

1. **Разделение ответственности**: Каждый компонент отвечает за свою конкретную задачу
2. **Переиспользование**: Компоненты можно легко переиспользовать в других частях приложения
3. **Тестируемость**: Мелкие компоненты легче тестировать
4. **Читаемость**: Код стал более понятным и структурированным
5. **Производительность**: Использование `useCallback` для оптимизации рендеринга
6. **Типизация**: Централизованные типы для лучшей поддержки TypeScript

## Использование

```tsx
import { ChatInterface } from './components/ChatInterface';

<ChatInterface
  messages={messages}
  name={userName}
  socket={socket}
  onLogout={handleLogout}
  isMobile={isMobile}
  channels={channels}
  onChannelSwitch={handleChannelSwitch}
  currentChannelId={currentChannelId}
/>
```
